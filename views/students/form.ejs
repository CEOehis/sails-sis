<% var students %>
<% if(typeof student == 'object' && student) { %>
<% students = student; %>
<% } else { %>
<% students = {firstName: "", middleName: "", lastName: "", mobile: "", dateOfBirth: "", email: "", gender: "", religion: "", address: "", city: "", state: "",course: "", level: "", grade: ""} %>
<% } %>
<% if(students.firstName != '') { %>
<form action="/students/edit/<%= students.id %>" method="POST" role="form">
<% } else { %>
<form action="/student" method="POST" role="form">
<% } %>
  <legend>Personal details</legend>
  <div class="form-group">
    <label for="first-name">First Name</label>
    <input type="text" class="form-control" name="firstName" id="" placeholder="First Name" value="<%= students.firstName %>" pattern="[a-zA-Z]+" required>
    <label for="middle-name">Middle Name</label>
    <input type="text" class="form-control" name="middleName" id="" placeholder="Middle Name" value="<%= students.middleName %>" pattern="[a-zA-Z]+" required>
    <label for="last-name">Last Name</label>
    <input type="text" class="form-control" name="lastName" id="" placeholder="Last Name" value="<%= students.lastName %>" pattern="[a-zA-Z]+" required>
    <label for="phone">Phone Number</label>
    <input type="text" class="form-control" name="mobile" id="" placeholder="+234 XXX XXX XXXX" value="<%= students.mobile %>" pattern="[0-9]{13}">
    <label for="last-name">Date of Birth</label>
    <input type="date" class="form-control" name="dateOfBirth"  data-date-format="mm-dd-yyyy" id="" placeholder="mm/dd/yyyy" value="<%= formatDate(students.dateOfBirth) %>" required>
    <label for="last-name">E-mail</label>
    <input type="email" class="form-control" name="email" id="" placeholder="sample@email.com" value="<%= students.email %>">
    <label for="last-name">Gender</label>
    <select name="gender" class="form-control" placeholder='female' value="<%= students.gender %>">
      <option value="male" <% if(students.gender == 'male') { %> selected="selected" <% } %>>Male</option>
      <option value="female" <% if(students.gender == 'female') { %> selected="selected" <% } %>>Female</option>
    </select>
    <label for="religion">Religion</label>
    <select name="religion" class="form-control" placeholder='' required="" value="<%= students.religion %>">
      <option value=""></option>
      <option value="bhudism" <% if(students.religion == 'bhudism') { %> selected="selected" <% } %>>Bhudism</option>
      <option value="christianity" <% if(students.religion == 'christianity') { %> selected="selected" <% } %>>Christianity</option>
      <option value="islam" <% if(students.religion == 'islam') { %> selected="selected" <% } %>>Islam</option>
    </select>
    <label for="last-name">City</label>
    <input type="text" class="form-control" name="city" id="" placeholder="Lagos" value="<%= students.city %>">
  </div>  
  <legend>Academic details</legend>
  <div class="form-group">
    <label for="last-name">Course</label>
    <input type="text" class="form-control" name="course" id="" placeholder="" value="<%= students.course %>">
    <label for="last-name">Level</label>
    <input type="text" class="form-control" name="level" id="" placeholder="" value="<%= students.level %>">
    <label for="last-name">Grade</label>
    <input type="text" class="form-control" name="level" id="" placeholder="" value="<%= students.grade %>">
  </div>
  <button type="submit" class="btn btn-primary">Submit</button>
</form>
<% function formatDate(date) { %>
<%   var d = new Date(date); %>
<%   var month = '' + (d.getMonth() + 1); %>
<%   var day = '' + d.getDate(); %>
<%   var year = d.getFullYear(); %>
<%    if (month.length < 2) month = '0' + month; %>
<%    if (day.length < 2) day = '0' + day; %>
<%    return [year, month, day].join('-'); %>
<% } %>